(self.webpackChunk=self.webpackChunk||[]).push([[143],{138:(e,t,a)=>{const s=a(475),n=a(27),{lightningChart:i,ColorRGBA:o,LUT:r,PalettedFill:l,AxisScrollStrategies:m,UIElementBuilders:c,UIOrigins:d,UILayoutBuilders:g,UIBackgrounds:x,regularColorSteps:p,Themes:u}=s,{createSpectrumDataGenerator:h}=n,S=120,f=i().Chart3D({}).setTitle("3D Box Series Spectrogram").setBoundingBox({x:1,y:1,z:2});f.setCameraLocation({x:.1,y:.08,z:1.2}),f.getDefaultAxisY().setScrollStrategy(m.expansion).setInterval({start:0,end:100,stopAxisAfter:!1}).setTitle("Power spectrum P(f)"),f.getDefaultAxisX().setTitle("Frequency (Hz)"),f.getDefaultAxisZ().setTitle("Time").setInterval({start:0,end:-120,stopAxisAfter:!1}).setScrollStrategy(m.progressive);const y=new l({lut:new r({steps:p(0,100,f.getTheme().examples.intensityColorPalette),units:"dB",interpolate:!0}),lookUpProperty:"y"}),B=f.addBoxSeries().setFillStyle(y).setRoundedEdges(void 0).setName("Spectrogram (box)"),C=[];for(let e=0;e<S;e++){const t=[];for(let a=0;a<60;a++){const s=60*e+a;B.invalidateData([{id:s,yMin:0,yMax:0,zMin:0,zMax:0,xMin:a,xMax:a+1}]),t.push(s)}C.push(t)}f.addLegendBox().setAutoDispose({type:"max-width",maxWidth:.3}).add(f);let A=0;h().setSampleSize(60).setNumberOfSamples(S).setVariation(5).generate().setStreamRepeat(!0).setStreamInterval(1e3/60).setStreamBatchSize(1).toStream().map((e=>e.map((e=>80*e)))).forEach((e=>{if(O.getOn()||A<S){const t=C[A%S],a=e.map(((e,a)=>({id:t[a],yMin:0,yMax:e,zMin:A,zMax:A+1})));B.invalidateData(a),A++}})),(async()=>{const e=await fetch(document.head.baseURI+"examples/assets/0904/camera.json").then((e=>e.json()));if(!e)return void console.log("No Camera animation data.");console.log("Loaded Camera animation data.");let t=0;const a=()=>{if(k.getOn()){const{cameraLocation:a}=e.frames[Math.floor(t)%e.frames.length];f.setCameraLocation(a),t+=2}requestAnimationFrame(a)};requestAnimationFrame(a)})();const D=f.addUIElement(g.Column.setBackground(x.Rectangle));D.setPosition({x:0,y:100}).setOrigin(d.LeftTop).setMargin(10).setPadding(4).setAutoDispose({type:"max-height",maxHeight:.3});const M=e=>{O.setText(e?"Disable infinite streaming data":"Enable infinite streaming data"),O.getOn()!==e&&O.setOn(e)},O=D.addElement(c.CheckBox);O.onSwitch(((e,t)=>M(t))),M(!0);const T=e=>{k.setText(e?"Disable camera animation":"Enable camera animation"),k.getOn()!==e&&k.setOn(e)},k=D.addElement(c.CheckBox);k.onSwitch(((e,t)=>T(t))),T(!0),f.onBackgroundMouseDrag((()=>{T(!1)}))}},e=>{e.O(0,[736],(()=>(138,e(e.s=138)))),e.O()}]);